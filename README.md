# Final Project Pendistribusian
_Assignment ini dibuat guna mengevaluasi pembelajaran selama Program OJT Data._

---

## Assignment Workflow

**Alur Pengerjaan:**
1. Pengumpulan data (diambil secara automasi dengan scheduling)
2. Preprocessing Data (Cleansing & Transforming)
3. Analisa query untuk mendapatkan informasi 
4. Data visualisasi untuk menampilkan summary
5. Prediksi untuk membantu pihak manajemen mengambil keputusan sehingga meminimalisir kerugian/kesalahan.


---
## Study Case
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transformasi digital telah berperan penting dalam berbagai industri tidak terkecuali industri kesehatan. Banyak rumah sakit berupaya melakukan transformasi digital dengan melakukan optimalisasi teknologi dengan harapan data-data yang ada di rumah sakit dapat terekam dengan baik sekaligus meningkatkan layanan yang berkualitas bagi pasien.</p>
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data-data digital di rumah sakit didapatkan dari perangkat yang terkoneksi satu sama lain antar bagian dalam sebuah rumah sakit. Kumpulan data tersebut didapatkan dari perjalanan paling awal sebuah pasien di rumah sakit dimulai dari administrasi, hasil pemeriksaan, monitoring dalam rawat inap maupun rawat jalan sampai ke proses paling akhir yaitu pembayaran dan pasien kembali pulih.</p>
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dalam upaya meningkatkan optimalisasi digitalisasi di rumah sakit, PERSI berkolaborasi bersama BitHealth melakukan edukasi melalui webinar yang diadakan pada hari Sabtu tepatnya 16 Juli 2022, dimana membahas mengenai Pemanfaatan Analytic Insight untuk Optimalisasi Manajemen Inventori di Rumah Sakit.</p>
   
<p align="center"><img width="439" alt="image" src="https://github.com/Bithealth-x-Hacktiv8/FinPro_Team1/assets/114856108/b05c495c-6233-44e0-a0ec-6fad79fdb87f"></p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pemanfaatan data atau biasa disebut big data memiliki potensi besar dalam bisnis di mana semua data yang ada terhubung satu sama lain dan dapat memberikan insight serta manfaat seperti health tracking, menganalisa dan memprediksi, menyediakan layanan yang lebih sesuai dengan setiap pasien, diagnosa yang lebih efektif, kemajuan dalam telemedicine serta masih banyak manfaat lainnya.</p>
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;“Tentunya kita ingin bisnis kita tidak hanya memberikan yang terbaik, tapi bisa terus berkembang dan adaptif mengikuti perkembangan zaman serta bisa terus memberikan manfaat secara finansial untuk orang-orang di sekitar kita,” ujar Timur Bawono, Chief Operating Officer BitHealth dalam Webinar.</p>

### Peningkatan Pertumbuhan Rumah Sakit dengan Pemanfaatan Data

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Big data sendiri pada rumah sakit terdiri dari koordinasi pelayanan kesehatan, pemberdayaan pasien, obat yang disesuaikan dengan kebutuhan pasien, dan reformasi pembayaran. Implementasi pemanfaatan big data ini menghasilkan kemudahan baik bagi operasional rumah sakit maupun pengalaman pasien dalam rumah sakit.</p>
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data kesehatan sangat dicari seperti ladang emas yang baru, di mana data-data yang ada dan telah diolah dengan baik (data ingestion, data cleansing, data mining, reporting & visualization dari data mentah) dapat menjadi informasi yang dapat digunakan oleh pengguna informasi dalam pengambilan keputusan melalui proses digitalisasi data. Hal ini terwujud dengan adanya data warehouse yang merupakan jenis sistem manajemen data yang dirancang untuk mengaktifkan dan mendukung aktivitas *business intelligence* (BI), terutama analitik.</p>
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manfaat yang didapatkan dalam menggunakan data warehouse adalah mengintegrasikan seluruh data yang ada dan juga melakukan queries serta analisis yang seringkali berisi data historis dalam jumlah besar. Selain itu, pemusatan data ini dapat memberikan akses ke berbagai departemen di sebuah rumah sakit dengan mudah sehingga rumah sakit memiliki satu sumber terpercaya dan dapat memaksimalkan value dari data tersebut.</p>
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Digitalisasi yang terjadi ini mendukung tercapainya efisiensi pelayanan yang tidak perlu berulang-ulang dan meminimalisir risiko terhadap pasien itu sendiri. Pada akhirnya, jika diterapkan prinsip dasar teknologi kesehatan pada setiap fasilitas kesehatan seperti rumah sakit nantinya akan bermanfaat tidak hanya masyarakat yang menerima layanan, tetapi juga bagian dari rumah sakit itu sendiri yang memberikan pelayanan maupun regulasi secara umum. </p>
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pengolahan data yang baik berguna untuk memaksimalkan sistem analytics dan maturity suatu model bisnis yang dimiliki, dalam hal ini yaitu rumah sakit. Contoh penerapan analytics di rumah sakit yaitu kita dapat menambahkan akses pasien dengan adanya telemedicine, kemudian memperbaiki di level prosedur dan diagnostik serta layanan kritis di rumah sakit sampai melakukan prediksi baik pasien masuk ataupun keluar, dan hal lain yang mempengaruhi sistem keputusan. Melalui hal ini diharapkan dapat tercapainya sistem informasi digital yang cerdas dan terpadu (Smart Hospital). </p>
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Anis Fuad menuturkan, selaku Ketua Kompartemen Pusat Data dan Informasi (PERSI) dalam Webinar menyampaikan bahwa butuh adanya pendekatan SMART untuk penerapan data analytics di rumah sakit guna tercapainya smart vision, smart team, smart budgeting, smart implementation, yaitu:</p>
   
<p align="center"><img width="420" alt="image" src="https://github.com/Bithealth-x-Hacktiv8/FinPro_Team1/assets/114856108/c2d30f39-de1e-4f8a-8357-32800154fc01"></p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Apabila data yang ada sudah siap serta memiliki dashboard yang baik maka suatu rumah sakit akan siap memasuki era transformasi digital dan penerapan teknologi dengan baik.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Salah satu rumah sakit yang mulai menerapkan manfaat dari adanya analytics yaitu Siloam Hospital dimana Anna Griselda Alvarado Ley selaku Head Of Supply Chain Management Siloam Hospital menyampaikan bahwa dengan adanya manajemen data inventori akan terbentuk langkah pengolahan data yang baik dimana dapat memudahkan Rumah Sakit dalam efisiensi distribusi antara rumah sakit dengan produsen/prinsipal.</p>

### Peran BitHealth dalam Industri Kesehatan 

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kehadiran BitHealth yang berfokus pada kemajuan teknologi rumah sakit memberikan solusi dalam pemanfaatan data kesehatan untuk optimalisasi manajemen inventori di rumah sakit melalui pengolahan data yang sudah ada agar dapat lebih kompetitif, bertahan lama, dan tentunya tertata rapi. BitHealth pun telah berkolaborasi bersama rumah sakit besar dan big chain dalam upaya pengelolaan data di era digitalisasi ini. </p>
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;“BitHealth membantu proses digitalisasi di klien rumah sakit tersebut dengan melakukan pemilihan teknologi dan vendor serta membangun solusi-solusi yang mendukung roadmap digitalisasi mereka sesuai pilar solusi yang dimiliki BitHealth,” ujar Timur.</p>
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bekerja sama dengan Kementerian Kesehatan RI dan Digital Transformation Office (DTO), BitHealth memberikan bantuan berupa consulting, solutions, dan system implementation terhadap teknologi ataupun produk yang dipilih. Selain itu, BitHealth juga merupakan partner resmi pertama The Healthcare Information and Management Systems Society (HIMSS) di Indonesia sejak 2021, dimana BitHealth bersama HIMSS akan membantu proses asesmen sekaligus mengelola data dari hasil asesmen tersebut untuk kemudian diolah menjadi strategi atau roadmap rumah sakit.</p>
   
[Source Study Case](https://bithealth.co.id/news/smart-hospital-business-strategy-through-optimization-of-hospital-inventory-management/)

---
## Problems
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dalam cabang rumah sakit memiliki inventory obat dengan jenis dan jumlah yang berbeda-beda. Hal tersebut diperlukan optimalisasi pendistribusian obat, agar mengurangi limbah obat yang disebabkan salah prediksi kebutuhan obat. Begitu pula dengan pendistribusian dokter yang tersedia di masing-masing cabang rumah sakit, diperlukan data analisa masing-masing rumah sakit tersebut. Data tersebut menampilkan cabang rumah sakit A memiliki request dokter spesialis A lebih besar daripada dokter spesialis B jika dibandingkan dengan rumah sakit B, hal ini dapat menerapkan teori regresi..</p>

---
## Dataset

Nama Dataset : `Hospital_data.csv`
Deskripsi    : Dataset ini berisi tentang *historical data* pasien rumah sakit. 

| Column | Description |
|---|---|
|`ID`             | ID penjualan (Invoice)|
|`Date IN`        | Tanggal pasien masuk rumah sakit |
|`Date OUT`       | Tanggal pasien keluar rumah sakit |
|`Branch`         | Cabang rumah sakit:<br/>   - RSMA : Rumah Sakit Mulia Anggrek<br/>   - RSMD : Rumah Sakit Mulia Duri<br/>   - RSMS : Rumah Sakit Mulia Simatupang |
|`Name`           | Nama pasien |
|`Age`            | Usia pasien |
|`Gender`         | Gender pasien |
|`Hospital Care`  | Tipe perawatan pasien |
|`Room`           | Tipe kamar:<br/>   - VIP : Rp. 300.000/malam<br/>   - Kelas 1 : Rp. 250.000/malam<br/>   - Kelas 2 : Rp. 200.000/malam<br/>   - Kelas 3 : Rp. 150.000/malam|
|`Doctor`         | Tipe doktor:<br/>   - Bedah : Rp. 300.000/kunjungan<br/>   - Gigi : Rp. 300.000/kunjungan<br/>   - Kandungan : Rp. 300.000/kunjungan<br/>   - Penyakit dalam : Rp. 300.000/kunjungan<br/>   - Umum : Rp. 200.000/kunjungan|
|`Surgery`        | Tipe tindakan/operasi:<br/>   - Kecil : Rp. 4.000.000<br/>   - Besar : Rp. 8.000.000<br/>   - Kusus : Rp. 15.000.000|
|`Lab`            | Tipe uji laboratorium:<br/>   - Hematologi : Rp. 90.000<br/>    - Kimia Darah : Rp. 195.000<br/> - Rontgen : Rp. 150.000<br/> - Serologi : Rp. 200.000<br/> - Urinalisa : Rp. 80.000|
|`Drug Types`     | Tipe obat:<br/> - Antibiotik : Rp. 75.000<br/> - Pereda nyeri : Rp. 50.000<br/> - Umum : Rp. 40.000<br/> - Vitamin : Rp. 110.000|
|`Drug Brands`    | Merek-merek obat berdasarkan tipenya |
|`Drug Quantity`  | Jumlah strip/botol yang perlu dikonsumsi oleh pasien selama masa penyembuhan|
|`Food`           | Harga makanan untuk pasien rawat inap setiap hari (harga sudah termasuk sarapan, makan siang, dan malam) |
|`Admin`          | Biaya administrasi rumah sakit (fix price/pasien)|
|`COGS`           | Cost of Good Sold Rumah sakit untuk setiap pasien|
|`Payment`        | Tipe pembayaran pasien|
|`Review`         | Review dari pasien|

Asumsi : 
- Dokter setiap hari melakukan 1 kali kunjungan untuk pasien rawat inap.
- Pasien Rawat Jalan dianggap bertemu dengan dokter 1 kali (kunjungan).
- Tindakan (operasi) hanya dilakukan 1 kali selama pasien rawat inap. Kecuali ada pasien yang sama datang lagi di hari yang berbeda dan statusnya rawat inap kembali.
- Seluruh hasil test laboratorium pada dataset kali ini adalah positif dan hanya dilakukan 1x baik untuk pasien rawat jalan, maupun rawat inap.
- Setiap pasien hanya membutuhkan 1 jenis obat per kasus penyakit.
- Kategori obat umum maksudnya adalah paracetamol.
- Setiap merek obat yang kategorinya sama, memiliki harga yang sama.
- Setiap pasien rawat inap, membutuhkan infus dengan harga Rp. 165.000/hari.
- ...
- Jika diperlukan, silakan membuat asumsi sendiri selain di atas untuk membantu pengerjaan final project ini.(Konsultasikan dulu ke mentor!)

---
## Final Project Instructions

*Final Project* dikerjakan dengan beberapa **kriteria wajib** di bawah ini:

1. *Project* dinyatakan selesai dan diterima untuk dinilai jika script dapat dijalankan dengan baik di prompt maupun terminal.

2. Pada tugas Final Project, team akan diminta untuk membuat :
   1. `FP_<nama-team>_ddl.sql`
      - File ini berisi :
        + Syntax DDL untuk pembuatan database dan table.
        + Syntax DML untuk melakukan insert data ke database. Anda bisa menggunakan perintah `COPY` untuk melakukan insert data.
   2. `FP_<nama-team>_data_clean.csv`
      - File ini berisi data yang telah dilakukan Data Cleaning.
   3. `FP_<nama-team>_DAG.py`
      - File yang berisi DAG untuk dijalankan dengan menggunakan Apache Airflow yang terdiri dari :
        + Python code untuk mengambil data dari database PostgreSQL.
        + Python code untuk melakukan proses Data Cleaning seperti yang sudah ditentukan dan menyimpannya ke sebuah CSV file.
        + Python code untuk membuat dashboard di Kibana via Elasticsearch. (opsional)

    4. `FP_<nama-team>_ML.ipynb`
       - File ini adalah "dapur" data scientist yang berisi tentang: 
        + Eksplorasi data dan visualisasi.
        + Python code untuk feature engineering/preprocessing.
        + Python code untuk modeling (training, tuning(opsional), cross validation(opsional), dan evaluation).
        + Sangat direkomendasikan untuk menggunakan pipeline. 
        + Python code untuk save model.
        + Deployment model ke huggingface menggunakan streamlit. (opsional)

3. Pada file Python, **wajib** memberikan keterangan atau pengenalan dengan menggunakan `comment` atau `docstring` yang berisikan : Judul tugas, Nama Team, Anggota, dan penjelasan singkat tentang program yang dibuat, fitur-fitur. Contoh:
    ```py
    '''
    =================================================
    Final Project

    Nama  Team : Business Team
    Anggota    : - Adi
                 - Ida

    Program ini dibuat untuk melakukan automatisasi transform dan load data dari PostgreSQL. Adapun dataset yang dipakai adalah dataset mengenai data pasien rumah sakit.
    =================================================
    '''
    ```

4. Anda diwajibkan menggunakan class/function untuk memisahkan bagian code agar flow dari code yang dibuat mudah diikuti. Berikan penjelasan pada setiap class/function yang dibuat dengan menggunakan docstring seperti : 
   ```py
   def get_data_from_postgresql(url, database, table):
     '''
     Fungsi ini ditujukan untuk mengambil data dari PostgreSQL untuk selanjutnya dilakukan Data Cleaning.

     Parameters:
      url: string - lokasi PostgreSQL
      database: string - nama database dimana data disimpan
      table: string - nama table dimana data disimpan

     Return
      data: list of str - daftar data yang ada di database
        
     Contoh penggunaan:
     data = get_data_from_postgresql('localhost', 'db_phase2', 'table_m3')
     '''

     return data

   ```

---

## Final Project Submission

- Push Assignment yang telah Anda buat ke akun GitHub Classroom Anda masing-masing.
- Contoh bentuk repository :
  ```
  Bithealth_x_Hacktiv8/FinPro_team1
  |
  ├── FP_team1_ddl.sql
  ├── FP_team1_data_clean.csv
  ├── FP_team1_DAG.py
  ├── FP_team1_ML.ipynb
  ├── FP_team1_proposal.pdf
  ├── FP_team1_presentation.ppt
  ```

---

## Final Project Rubrics

### Code Review

| Kategori | Kerangka | Detail | Nilai |
| --- | --- | --- | --- |
| Sumber Data | 1. Tabel disediakan untuk semua informasi dengan 3 cabang rumah sakit <br/>2. Input data ke database local <br/>3. Membuat schedule job <br/>4. Membuat tabel yang sesuai dengan analisa <br/>5. Cleansing data (DDL dan DML SQL) | 1. Data jumlah obat yang tersedia  cabang<br/>2. Jumlah obat yang terpakai untuk 3 cabang<br/>3. Terdapat 5 kategori obat (antibiotik, vitamin, infus, paracetamol, antinyeri) dengan masing-masing kategori terdiri atas 3 merk| 25 pts
| Program | 1. Tabel yang sesuai dengan analisa dipastikan kembali sudah sesuai <br/>2. Tabel dipecah menjadi kategori tabel sesuai kebutuhan<br/>3. Membuat ERD relasi one to many / many to many<br/>4. Menampilkan grafik analisa (Python)<br/>5. Menampilkan grafik prediksi (ML)<br/> | 1. Membuat analisa gap antara ketersediaan dan kebutuhan<br/>2. Membuat analisa estimasi optimum masing-masing cabang sehingga tidak mengalami penumpukan kategori obat tertentu<br/>| 25 pts |
| Proposal | 1. Terdiri atas : latar belakang, rumusan masalah, pembahasan (program lengkap dari awal hingga akhir disertai keterangan, gambar visualisasi, dan interpretasi), prediksi <br/>2. Karakter penulisan : Times new roman, ukuran 12, paragraph justify, spacing 1.0.| Berisi kan lengkap sesuai kerangka yang menjelaskan optimisasi distribusi obat di 3 cabang tersebut agar tidak mengalami penumpukan sehingga meminimalisir pemborosan biaya obat masing-masing rumah sakit| 25 pts |
| PPT | 1. Berisi poin sesuai kerangka (ringkas dan jelas) minim tulisan. <br/>2. Terdiri dari gambar yang interpretative <br/>3. Alur menggunakan diagram <br/>4. Berisi : latar belakang, rumusan masalah, solusi, dan evaluasi.| 1. Membuat visualisasi gap antara ketersediaan dan kebutuhan<br/>2. Membuat visualisasi estimasi optimum masing-masing cabang sehingga tidak mengalami penumpukan kategori obat tertentu| 25 pts |


---

```
Total Points : 100
```

---

### Notes

* **Deadline : 7 Juni 2024 pukul 23:59 WIB.**
